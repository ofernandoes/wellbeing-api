{
    "name": "Flutter Development (Official Image)",
    // Using the official Flutter image instead of Universal, 
    // which has Flutter pre-installed and avoids the error.
    "image": "mcr.microsoft.com/devcontainers/flutter:latest",

    // Remove the 'features' section as Flutter is already installed by the image
    // "features": { 
    //     "ghcr.io/devcontainers/features/flutter:2": {}
    // },

    // Tells VS Code to install the necessary extensions (Dart/Flutter)
    "customizations": {
        "vscode": {
            "extensions": [
                "Dart-Code.flutter"
            ]
        }
    },

    // Runs 'flutter doctor' as a final check after setup
    "postCreateCommand": "flutter doctor",

    // Forwards the default web port for running your app in the browser
    "forwardPorts": [8080]
}
